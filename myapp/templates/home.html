{% load static %}
<!DOCTYPE html>
<html>
<head>
    <link rel="icon" href="{% static 'images/image_jc.ico' %}" type="image/x-icon">
    <title>Sequence List</title>
    <script src="{% static 'js/home_scripts.js' %}" defer></script>
    <link rel="stylesheet" type="text/css" href="{% static 'css/home_styles.css' %}">
    <script> const sequence_json = {{ sequence_json|safe }}; </script>
</head>
<body>
    <!-- Help Button -->
    <button id="help-button">Help</button>

    <!-- Modal Structure -->
    <div id="help-modal" class="modal">
        <div class="modal-content">
{#            <span class="close-button">&times;</span>#}
            <h2>Instructions</h2>
            <p>1. Enter the accession number in the search field to search for sequences.</p>
            <p>2. Click 'Make Cohorts' to generate cohorts based on variants.</p>
            <p>3. Use the buttons to navigate or upload a new CSV file.</p>
            <p>4. The dendrogram will update with cohort changes.</p>
        </div>
    </div>
    <h1>Enter Accession Number</h1>

    <!-- Search Input -->

    <label for="search">Search by Accession number:</label>
    <input type="text" id="search" placeholder="Q8WZ42|TITIN_HUMAN" value="{{ query }}">
    <button onclick="searchSequence()">Search</button>

    <!-- Container for displaying the sequence list dynamically with JavaScript -->
    <ul id="sequence-list">
        <!-- This list will be dynamically populated by JavaScript -->
    </ul>
    <img src="{% url 'make_dendrogram' %}" alt="Dendrogram">

    <br><br>
    <label for="cohort_number">How many cohorts? (between 1 and 10):</label>
    <input type="number" id="cohort_number" name="quantity" placeholder="1" value="{{ cohort_query }}" min="1" max="10">
    <button onclick="make_cohorts()">Make Cohorts</button>



    <!-- Button to redirect to the upload CSV page -->
    <br><br>
    <a href="{% url 'upload_csv' %}">
        <button>Go to Upload CSV Page</button>
    </a>

</body>
</html>
